{"ast":null,"code":"import { create } from 'zustand';\nimport produce from 'immer';\nimport { persist } from 'zustand/middleware';\nconst useRecipeStore = create(persist(set => ({\n  recipes: [],\n  deletedRecipeIds: [],\n  // Масив ID видалених рецептів\n  isLoading: false,\n  loadRecipes: async () => {\n    set({\n      isLoading: true\n    });\n    try {\n      const response = await fetch('https://api.punkapi.com/v2/beers?page=1');\n      const data = await response.json();\n      set(produce(state => {\n        // Фільтрація видалених рецептів перед завантаженням\n        state.recipes = data.filter(recipe => !state.deletedRecipeIds.includes(recipe.id));\n        state.isLoading = false;\n      }));\n    } catch (error) {\n      console.error('Failed to load recipes:', error);\n      set({\n        isLoading: false\n      });\n    }\n  },\n  deleteRecipe: recipeId => {\n    set(produce(state => {\n      state.deletedRecipeIds.push(recipeId); // Додати ID видаленого рецепта до масиву deletedRecipeIds\n    }));\n  }\n}), {\n  name: 'recipe-store'\n}));\nexport default useRecipeStore;","map":{"version":3,"names":["create","produce","persist","useRecipeStore","set","recipes","deletedRecipeIds","isLoading","loadRecipes","response","fetch","data","json","state","filter","recipe","includes","id","error","console","deleteRecipe","recipeId","push","name"],"sources":["/Users/User/Documents/GitHub/AiroMedicalTT/src/zustand/RecipesStore.js"],"sourcesContent":["import { create } from 'zustand';\nimport produce from 'immer';\nimport { persist } from 'zustand/middleware';\n\nconst useRecipeStore = create(\n  persist(\n    (set) => ({\n      recipes: [],\n      deletedRecipeIds: [], // Масив ID видалених рецептів\n      isLoading: false,\n      loadRecipes: async () => {\n        set({ isLoading: true });\n        try {\n          const response = await fetch('https://api.punkapi.com/v2/beers?page=1');\n          const data = await response.json();\n          set(\n            produce((state) => {\n              // Фільтрація видалених рецептів перед завантаженням\n              state.recipes = data.filter((recipe) => !state.deletedRecipeIds.includes(recipe.id));\n              state.isLoading = false;\n            })\n          );\n        } catch (error) {\n          console.error('Failed to load recipes:', error);\n          set({ isLoading: false });\n        }\n      },\n      deleteRecipe: (recipeId) => {\n        set(\n          produce((state) => {\n            state.deletedRecipeIds.push(recipeId); // Додати ID видаленого рецепта до масиву deletedRecipeIds\n          })\n        );\n      },\n    }),\n    {\n      name: 'recipe-store',\n    }\n  )\n);\n\nexport default useRecipeStore;\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAChC,OAAOC,OAAO,MAAM,OAAO;AAC3B,SAASC,OAAO,QAAQ,oBAAoB;AAE5C,MAAMC,cAAc,GAAGH,MAAM,CAC3BE,OAAO,CACJE,GAAG,KAAM;EACRC,OAAO,EAAE,EAAE;EACXC,gBAAgB,EAAE,EAAE;EAAE;EACtBC,SAAS,EAAE,KAAK;EAChBC,WAAW,EAAE,MAAAA,CAAA,KAAY;IACvBJ,GAAG,CAAC;MAAEG,SAAS,EAAE;IAAK,CAAC,CAAC;IACxB,IAAI;MACF,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,yCAAyC,CAAC;MACvE,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAClCR,GAAG,CACDH,OAAO,CAAEY,KAAK,IAAK;QACjB;QACAA,KAAK,CAACR,OAAO,GAAGM,IAAI,CAACG,MAAM,CAAEC,MAAM,IAAK,CAACF,KAAK,CAACP,gBAAgB,CAACU,QAAQ,CAACD,MAAM,CAACE,EAAE,CAAC,CAAC;QACpFJ,KAAK,CAACN,SAAS,GAAG,KAAK;MACzB,CAAC,CACH,CAAC;IACH,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/Cd,GAAG,CAAC;QAAEG,SAAS,EAAE;MAAM,CAAC,CAAC;IAC3B;EACF,CAAC;EACDa,YAAY,EAAGC,QAAQ,IAAK;IAC1BjB,GAAG,CACDH,OAAO,CAAEY,KAAK,IAAK;MACjBA,KAAK,CAACP,gBAAgB,CAACgB,IAAI,CAACD,QAAQ,CAAC,CAAC,CAAC;IACzC,CAAC,CACH,CAAC;EACH;AACF,CAAC,CAAC,EACF;EACEE,IAAI,EAAE;AACR,CACF,CACF,CAAC;AAED,eAAepB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}